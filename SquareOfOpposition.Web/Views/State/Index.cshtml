@using SquareOfOpposition.Web.Helpers
@using SquareOfOpposition.Web.ViewModels
@model IEnumerable<StateViewModel>
@{
    ViewData["Title"] = "State Machine";
}

<div id="cy">

</div>

@section Scripts{
    <script>
        var elements = @Html.Raw(WebsiteHelper.GetCytoscapeElementsByStates(Model.ToList()));
        var cy = new cytoscape({
            container: $('#cy'),
            style: [
                {
                    selector: 'node',
                    style: {
                        'content': 'data(name)',
                        'text-opacity': 0.5,
                        'text-valign': 'center',
                        'text-halign': 'right',
                        'background-color': '#11479e'
                    }
                },
                {
                    selector: 'edge',
                    style: {
                        'content': 'data(name)',
                        'text-opacity': 0.5,
                        'curve-style': 'bezier',
                        'width': 2,
                        'target-arrow-shape': 'triangle',
                        'line-color': '#9dbaea',
                        'target-arrow-color': '#9dbaea'
                    }
                }
            ],
            elements: elements,
        });
    </script>
}